<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./grid.css">
    <style>
        *{
            font-family: system-ui;
        }
        nav{
            background-color: #424245;
            padding: 20px;
        }
        nav button{
            font-size: 16px;
            margin: 0px 10px;
            color: #CBCCCB;
            border-style: none;
            background-color: transparent;
        }
        nav button:hover{
            color: #fff;
        }
        .apple_Product{
            text-align: center;
        }
        .apple_Pic{
            margin: auto;
            width: 370px;
            height: 345px;
        }
        .apple_Pic img{
            width: 100%;
            margin: 30px 0px;
        }
        .apple_Info div{
            margin: 30px 50px;
            font-size: 22px;
            font-weight: bold;
            line-height: 30px;
        }
        .apple_Info div span{
            color: #a3a3a8;
        }
        .apple_Info div p{
            margin: 20px 0px;
            font-size: 18px;
        }
        .product_color img{
            width: 30px;
            border-radius: 30px;
        }
        .color_btn{
            border-style: none;
            background-color: transparent;
            padding: 0;
            margin: 0px 12px 0px 0px;
            border-radius:18px;
        }
        .color_btn:hover{
            border: rgb(154, 152, 152) 1px solid;
        }
        .product_price{
            height: 20px;
        }
        .storage_btn{
            border-radius: 5px;
            border:1.5px solid #b9beb9;
            background-color: transparent;
            padding: 15px 20px;
            margin: 15px 10px 0px 0px;
            /* display: flex; */
            width: 100px;
        }
        .storage_btn:hover{
            background-color:rgb(246, 228, 208);
        }
    </style>
</head>
<body>
    <header class="apple_Product">
        <nav>
            <button id="btn" class="iphone">iPhone 13</button>
            <button id="btn" class="ipad">iPad Air</button>
            <button id="btn" class="mac">MacBook Air</button>
        </nav>
    </header>
    <main>
        <div class="container">
            <div class="row">
                <div class="apple_Pic col-12 col-md-6">
                    <img src="" alt="">
                </div>
                <div class="apple_Info col-12 col-md-6">
                    <div class="product_color"></div>
                    <div class="product_storage"></div>
                    <div class="product_price">
                    </div>
                </div>
            </div>
            </div>
        </div>
    </main>
    <script>
        const ipad_List = [
            { type:"ipadair",id:"A01",colorBtn:"./apple-product_img/ipad-air-btn-space-gray.png",color:"Space Gray",storage:"64GB",price:19900,picture:"./apple-product_img/ipad-space-gray.jpeg"},
            { type:"ipadair",id:"A02",colorBtn:"./apple-product_img/ipad-air-btn-space-gray.png",color:"Space Gray",storage:"256GB",price:24900,picture:"./apple-product_img/ipad-space-gray.jpeg"},
            { type:"ipadair",id:"A03",colorBtn:"./apple-product_img/ipad-air-btn-blue.png",color:"Blue",storage:"64GB",price:19900,picture:"./apple-product_img/ipad-blue.jpeg"},
            { type:"ipadair",id:"A04",colorBtn:"./apple-product_img/ipad-air-btn-blue.png",color:"Blue",storage:"256GB",price:24900,picture:"./apple-product_img/ipad-blue.jpeg"},
            { type:"ipadair",id:"A05",colorBtn:"./apple-product_img/ipad-air-btn-pink.png",color:"Pink",storage:"64GB",price:19900,picture:"./apple-product_img/ipad-pink.jpeg"},
            { type:"ipadair",id:"A06",colorBtn:"./apple-product_img/ipad-air-btn-pink.png",color:"Pink",storage:"256GB",price:24900,picture:"./apple-product_img/ipad-pink.jpeg"},
            { type:"ipadair",id:"A07",colorBtn:"./apple-product_img/ipad-air-btn-purple.png",color:"Purple",storage:"64GB",price:19900,picture:"./apple-product_img/ipad-purple.jpeg"},
            { type:"ipadair",id:"A08",colorBtn:"./apple-product_img/ipad-air-btn-purple.png",color:"Purple",storage:"256GB",price:24900,picture:"./apple-product_img/ipad-purple.jpeg"},
            { type:"ipadair",id:"A09",colorBtn:"./apple-product_img/ipad-air-btn-starlight.png",color:"Starlight",storage:"64GB",price:19900,picture:"./apple-product_img/ipad-starlight.jpeg"},
            { type:"ipadair",id:"A10",colorBtn:"./apple-product_img/ipad-air-btn-starlight.png",color:"Starlight",storage:"256GB",price:24900,picture:"./apple-product_img/ipad-starlight.jpeg"}
    ]
        const iphone_List=[
            { type:"iphone",id:"B01",colorBtn:"./apple-product_img/iphone-btn-blue.jpeg",color:"Blue",storage:"128GB",price:24900,picture:"./apple-product_img/iphone-blue.jpeg"},
            { type:"iphone",id:"B02",colorBtn:"./apple-product_img/iphone-btn-blue.jpeg",color:"Blue",storage:"256GB",price:28400,picture:"./apple-product_img/iphone-blue.jpeg"},
            { type:"iphone",id:"B03",colorBtn:"./apple-product_img/iphone-btn-blue.jpeg",color:"Blue",storage:"512GB",price:35400,picture:"./apple-product_img/iphone-blue.jpeg"},
            { type:"iphone",id:"B04",colorBtn:"./apple-product_img/iphone-btn-pink.jpeg",color:"Pink",storage:"128GB",price:24900,picture:"./apple-product_img/iphone-pink.jpeg"},
            { type:"iphone",id:"B05",colorBtn:"./apple-product_img/iphone-btn-pink.jpeg",color:"Pink",storage:"256GB",price:28400,picture:"./apple-product_img/iphone-pink.jpeg"},
            { type:"iphone",id:"B06",colorBtn:"./apple-product_img/iphone-btn-pink.jpeg",color:"Pink",storage:"512GB",price:35400,picture:"./apple-product_img/iphone-pink.jpeg"},
            { type:"iphone",id:"B07",colorBtn:"./apple-product_img/iphone-btn-black.jpeg",color:"Midnight",storage:"128GB",price:24900,picture:"./apple-product_img/iphone-black.jpeg"},
            { type:"iphone",id:"B08",colorBtn:"./apple-product_img/iphone-btn-black.jpeg",color:"Midnight",storage:"256GB",price:28400,picture:"./apple-product_img/iphone-black.jpeg"},
            { type:"iphone",id:"B09",colorBtn:"./apple-product_img/iphone-btn-black.jpeg",color:"Midnight",storage:"512GB",price:35400,picture:"./apple-product_img/iphone-black.jpeg"},
            { type:"iphone",id:"B10",colorBtn:"./apple-product_img/iphone-btn-starlight.jpeg",color:"Starlight",storage:"128GB",price:24900,picture:"./apple-product_img/iphone-white.jpeg"},
            { type:"iphone",id:"B11",colorBtn:"./apple-product_img/iphone-btn-starlight.jpeg",color:"Starlight",storage:"256GB",price:28400,picture:"./apple-product_img/iphone-white.jpeg"},
            { type:"iphone",id:"B12",colorBtn:"./apple-product_img/iphone-btn-starlight.jpeg",color:"Starlight",storage:"512GB",price:35400,picture:"./apple-product_img/iphone-white.jpeg"}
    ]
        const mac_List=[
            { type:"macbook",id:"C01",colorBtn:"./apple-product_img/macbook-air-btn-space-gray.jpeg",color:"Space Gray",storage:"256GB",price:30900,picture:"./apple-product_img/mac-gray.jpeg"},
            { type:"macbook",id:"C02",colorBtn:"./apple-product_img/macbook-air-btn-space-gray.jpeg",color:"Space Gray",storage:"512GB",price:36900,picture:"./apple-product_img/mac-gray.jpeg"},
            { type:"macbook",id:"C03",colorBtn:"./apple-product_img/macbook-air-btn-space-gray.jpeg",color:"Space Gray",storage:"1TB",price:42900,picture:"./apple-product_img/mac-gray.jpeg"},
            { type:"macbook",id:"C04",colorBtn:"./apple-product_img/macbook-air-btn-gold.jpeg",color:"Gold",storage:"256GB",price:30900,picture:"./apple-product_img/mac-gold.jpeg"},
            { type:"macbook",id:"C05",colorBtn:"./apple-product_img/macbook-air-btn-gold.jpeg",color:"Gold",storage:"512GB",price:36900,picture:"./apple-product_img/mac-gold.jpeg"},
            { type:"macbook",id:"C06",colorBtn:"./apple-product_img/macbook-air-btn-gold.jpeg",color:"Gold",storage:"1TB",price:42900,picture:"./apple-product_img/mac-gold.jpeg"},
            { type:"macbook",id:"C07",colorBtn:"./apple-product_img/macbook-air-btn-silver.jpeg",color:"Silver",storage:"256GB",price:30900,picture:"./apple-product_img/mac-silver.jpeg"},
            { type:"macbook",id:"C08",colorBtn:"./apple-product_img/macbook-air-btn-silver.jpeg",color:"Silver",storage:"512GB",price:36900,picture:"./apple-product_img/mac-silver.jpeg"},
            { type:"macbook",id:"C09",colorBtn:"./apple-product_img/macbook-air-btn-silver.jpeg",color:"Silver",storage:"1TB",price:42900,picture:"./apple-product_img/mac-silver.jpeg"}
        ] 
        // -----------------dom--------------------------
        let iphoneBtn = document.querySelector('.iphone');
        let ipadBtn = document.querySelector('.ipad')
        let macBtn = document.querySelector('.mac')
        let display_img = document.querySelector('img')
        let apple_color = document.querySelector('.product_color')
        let apple_storage = document.querySelector('.product_storage')
        let apple_price = document.querySelector('.product_price')

        //----------------variable--------------------------

        let product_color_title;
        let product_color;
        let product_color_btn;
        let color_result=[];
        let storage_result=[];
        let product_price;
        let product_storage;

        // ------------addEventListener---------------

        iphoneBtn.addEventListener('click',function(){
            apple_price.innerHTML=''
            display_img.src='./apple-product_img/iphone.png'
            create_Color_Array(iphone_List)
            create_Color_Info(color_result,iphone_List)
            create_Storage_Array(iphone_List)
            create_Storage_Info(storage_result,iphone_List)
        })
        ipadBtn.addEventListener('click',function(){
            apple_price.innerText=''
            display_img.src='./apple-product_img/ipad.png'
            create_Color_Array(ipad_List)
            create_Color_Info(color_result,ipad_List)
            create_Storage_Array(ipad_List)
            create_Storage_Info(storage_result,ipad_List)
        })
        macBtn.addEventListener('click',function(){
            apple_price.innerHTML=''
            display_img.src='./apple-product_img/mac.jpeg'
            create_Color_Array(mac_List)
            create_Color_Info(color_result,mac_List)
            create_Storage_Array(mac_List)
            create_Storage_Info(storage_result,mac_List)
        })

        //-----------------function------------------

        //-----------------color---------------------------------------------------------
        function create_Color_Array(Array){
            let color_Array = [];
            Array.forEach(function(item,index){
                color_Array.push(item.color) 
            })
            color_result = color_Array.filter((item,index,arr)=>(arr.indexOf(item)===index))
            console.log(color_result)
        }

        function create_Color_Info(Array,array){
            apple_color.innerHTML='<h2>Finish. <span>Pick your favorite.</sapn></h2>';    
            product_color_title= document.createElement('p');
            apple_color.append(product_color_title)
            product_color_title.innerHTML = 'Color'

            // -----create color button-------
            Array.forEach(el=>{
                product_color_btn=document.createElement('button')
                product_color= document.createElement('img')
                product_color_btn.setAttribute('class','color_btn')
                product_color_btn.append(product_color)
                apple_color.append(product_color_btn)

                let result=array.find(function(item,index,arr){
                    return item.color ==el;
                })
                product_color.src=result.colorBtn;
                product_color_btn.addEventListener('click',function(){
                    display_img.src=result.picture
                    product_color_title.innerHTML=`Color -${el}`
                    product_price.innerHTML ="";
                })
            }) 
        }

        //----------------------storage--------------------------------------------------------

        function create_Storage_Array(Array){
            let storage_Array = [];
            Array.forEach(function(item,index){
                storage_Array.push(item.storage)
            })
            storage_result=storage_Array.filter((item,index,arr)=>(arr.indexOf(item)===index))
            console.log(storage_result)
        }

        function create_Storage_Info(Array,array){
            apple_storage.innerHTML='<h2>Storage. <span>Choose how much space you\'\ll need.</sapn></h2>';    
            product_price= document.createElement('p');
            apple_price.append(product_price)

            // -----create color button-------
            Array.forEach(el=>{
                product_storage=document.createElement('button');
                product_storage.setAttribute('class','storage_btn')
                apple_storage.append(product_storage);
                
                let result=array.find(function(item,index,arr){
                    return item.storage ==el;
                })
                product_storage.addEventListener('click',function(){
                    product_price.innerText=`Price NT$ ${result.price}  `
                })
                product_storage.innerText=el
                //product_storage.innerText=`${el} \t ${result.price}`
            }) 
        }
    </script>
</body>
</html>